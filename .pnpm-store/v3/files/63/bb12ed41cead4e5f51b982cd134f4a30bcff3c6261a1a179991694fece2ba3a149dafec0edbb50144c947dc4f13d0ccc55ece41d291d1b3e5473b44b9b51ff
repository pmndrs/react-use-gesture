import{useId as e}from"@radix-ui/react-id";import*as t from"@radix-ui/react-visually-hidden";import{Slottable as o}from"@radix-ui/react-slot";import{Portal as n}from"@radix-ui/react-portal";import*as r from"@radix-ui/react-popper";import{extendPrimitive as i}from"@radix-ui/react-primitive";import{Presence as a}from"@radix-ui/react-presence";import{useRect as s}from"@radix-ui/react-use-rect";import{usePrevious as l}from"@radix-ui/react-use-previous";import{useLayoutEffect as c}from"@radix-ui/react-use-layout-effect";import{useEscapeKeydown as u}from"@radix-ui/react-use-escape-keydown";import{useControllableState as p}from"@radix-ui/react-use-controllable-state";import{createContext as d}from"@radix-ui/react-context";import{useComposedRefs as m}from"@radix-ui/react-compose-refs";import{composeEventHandlers as f}from"@radix-ui/primitive";import*as g from"react";import E from"@babel/runtime/helpers/esm/extends";function x(e){return{type:"machine.actions.assign",assign:e}}let y,T;const C=x(((e,t)=>{var o;return{...e,id:null!==(o=t.id)&&void 0!==o?o:e.id}})),v=function(e,{debug:t=!1,warnOnUnknownTransitions:o=!1}={}){let n=e.initial,r=e.context;const i=[],a=s=>{var l,c;const u=e.states[n],p=s.type,d=null===(l=e.on)||void 0===l?void 0:l[p],m=null===(c=u.on)||void 0===c?void 0:c[p],f=null!=d?d:m;if(void 0===f)o&&console.warn(`From state: "${n}", event "${p}" has no transition to any state`);else{const{target:o,actions:l=[],cond:c=(()=>!0)}=f,p=o?e.states[o]:{};if(c(r,s)){const e=(u.exit||[]).concat(l,p.entry||[]);r=function(e,t,o){let n=o;return null==e||e.forEach((e=>{"function"==typeof e?e(n,t,a):"machine.actions.assign"===e.type&&(n=e.assign(n,t))})),n}(e,s,r),o&&(n=o,t&&(console.group("event:",s),console.log("state:",n),console.log("context:",r),console.groupEnd()),i.forEach((e=>e({state:n,context:r}))))}}};return{subscribe:function(e){return i.push(e),()=>{i.splice(i.indexOf(e),1)}},send:a,getContext:function(){return r}}}({initial:"closed",context:{id:null,delayed:!1},on:{FOCUS:{target:"open"}},states:{closed:{entry:[x((e=>({...e,id:null})))],on:{OPEN:{target:"opening"}}},opening:{entry:[(e,t,o)=>{const n=t.delayDuration,r=()=>o({type:"DELAY_TIMER_END"});void 0===n?r():y=window.setTimeout(r,n)},C,x((e=>({...e,delayed:!0})))],exit:[()=>clearTimeout(y)],on:{DELAY_TIMER_END:{target:"open"},CLOSE:{target:"closed"}}},open:{entry:[C],exit:[x((e=>({...e,delayed:!1})))],on:{OPEN:{target:"open"},CLOSE:{target:"closing",cond:(e,t)=>e.id===t.id}}},closing:{entry:[(e,t,o)=>{var n;const r=null!==(n=t.skipDelayDuration)&&void 0!==n?n:300;T=window.setTimeout((()=>o({type:"SKIP_DELAY_TIMER_END"})),r)}],exit:[()=>clearTimeout(T)],on:{OPEN:{target:"open"},SKIP_DELAY_TIMER_END:{target:"closed"}}}}}),[b,D]=d("Tooltip");export const Tooltip=t=>{const{children:o,open:n,defaultOpen:i=!1,onOpenChange:a,delayDuration:s=700,skipDelayDuration:l=300}=t,[u,d]=g.useState(null),m=e(),[f=!1,E]=p({prop:n,defaultProp:i,onChange:a}),[x,y]=g.useState(n?"instant-open":"closed");g.useEffect((()=>v.subscribe((({state:e,context:t})=>{"open"===e&&t.id===m?E(!0):E(!1)}))),[m,E]),g.useEffect((()=>v.subscribe((({state:e,context:t})=>{t.id===m?y("open"===e?t.delayed?"delayed-open":"instant-open":"closed"):y("closed")}))),[m]);const T=g.useCallback((()=>v.send({type:"FOCUS",id:m})),[m]),C=g.useCallback((()=>v.send({type:"OPEN",id:m,delayDuration:s})),[m,s]),D=g.useCallback((()=>v.send({type:"CLOSE",id:m,skipDelayDuration:l})),[l,m]);return g.useEffect((()=>()=>D()),[D]),c((()=>{!0===n&&v.send({type:"OPEN",id:m})}),[m,n]),/*#__PURE__*/g.createElement(r.Root,null,/*#__PURE__*/g.createElement(b,{contentId:m,open:f,stateAttribute:x,trigger:u,onTriggerChange:d,onFocus:T,onOpen:C,onClose:D},o))};/*#__PURE__*/const w="button";export const TooltipTrigger=/*#__PURE__*/g.forwardRef(((e,t)=>{const{as:o=w,...n}=e,i=D("TooltipTrigger"),a=m(t,(e=>i.onTriggerChange(e)));/*#__PURE__*/return g.createElement(r.Anchor,E({type:"button","aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},n,{as:o,ref:a,onMouseEnter:f(e.onMouseEnter,i.onOpen),onMouseLeave:f(e.onMouseLeave,i.onClose),onMouseDown:f(e.onMouseDown,i.onClose),onFocus:f(e.onFocus,i.onFocus),onBlur:f(e.onBlur,i.onClose),onKeyDown:f(e.onKeyDown,(e=>{"Enter"!==e.key&&" "!==e.key||i.onClose()}))}))}));/*#__PURE__*/export const TooltipContent=/*#__PURE__*/g.forwardRef(((e,t)=>{const{forceMount:o,...n}=e,r=D("TooltipContent");/*#__PURE__*/return g.createElement(a,{present:o||r.open},/*#__PURE__*/g.createElement(h,E({ref:t},n)))}));const h=/*#__PURE__*/g.forwardRef(((e,i)=>{const{children:a,"aria-label":s,portalled:l=!0,...c}=e,p=D("TooltipContent"),d=l?n:g.Fragment;return u((()=>p.onClose())),/*#__PURE__*/g.createElement(d,null,/*#__PURE__*/g.createElement(O,null),/*#__PURE__*/g.createElement(r.Content,E({"data-state":p.stateAttribute},c,{ref:i,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),/*#__PURE__*/g.createElement(o,null,a),/*#__PURE__*/g.createElement(t.Root,{id:p.contentId,role:"tooltip"},s||a)))}));/*#__PURE__*/export const TooltipArrow=i(r.Arrow,{displayName:"TooltipArrow"});function O(){const e=D("CheckTriggerMoved"),t=s(e.trigger),o=null==t?void 0:t.left,n=l(o),r=null==t?void 0:t.top,i=l(r),a=e.onClose;return g.useEffect((()=>{(void 0!==n&&n!==o||void 0!==i&&i!==r)&&a()}),[a,n,i,o,r]),null}export const Root=Tooltip;export const Trigger=TooltipTrigger;export const Content=TooltipContent;export const Arrow=TooltipArrow;
//# sourceMappingURL=index.module.js.map
